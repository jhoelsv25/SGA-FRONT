<div class="relative w-full">
  <div
    class="flex items-center justify-between w-full min-h-9 px-2 text-sm border border-base-300 rounded-md cursor-pointer transition-all duration-200"
    [class]="
      disabled()
        ? 'pointer-events-none opacity-50 bg-base-100 border-base-200'
        : 'bg-base border-base-300 text-neutral-800 dark:bg-base dark:border-base-200 dark:text-white hover:border-primary-300 focus-within:border-primary-500 focus-within:ring-2 focus-within:ring-primary-300'
    "
    tabindex="0"
    [attr.aria-disabled]="disabled()"
  >
    @if (type() === 'number') {
      <i class="fas fa-hashtag text-primary-400 mr-1"></i>
    }
    @if (type() === 'text') {
      <i class="fas fa-font text-primary-400 mr-1"></i>
    }
    <input
      [type]="type()"
      [placeholder]="placeholder()"
      [disabled]="disabled()"
      [value]="localValue"
      (input)="onInput($event)"
      class="flex-1 bg-transparent outline-none border-none text-sm px-0 focus:ring-0 text-left truncate"
      style="min-width: 0"
    />
    @if (localValue && !disabled()) {
      <button
        type="button"
        class="flex items-center justify-center w-5 h-5 text-neutral-400 hover:text-neutral-600 hover:bg-base-200 rounded transition-colors duration-200 dark:text-neutral-300 dark:hover:text-white ml-1"
        (click)="clearInput()"
        tabindex="-1"
      >
        <i class="fas fa-times text-xs"></i>
      </button>
    }
  </div>
  <small>
    @if (required()) {
      <span class="text-xs text-red-600">* Campo requerido</span>
    }
  </small>
</div>
